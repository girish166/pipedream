package com.example.demo;

import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.ModelMap;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.servlet.ModelAndView;

@Controller
public class FormController {
	@Autowired
	Submission sub;
	@PostMapping("/getdetails")
	public String details(@RequestBody SubmissionForm submissionform)
	{
		sub.save(submissionform);
		return "added successfully";
	}
	@RequestMapping("/viewdetails")
	public String viewdetails()
	{
		return "viewdetails";
	}
	@PostMapping("/postdetails")
	public ModelAndView postdetails(@RequestParam("cid") int cid)
	{
		ModelAndView mv=new ModelAndView("retrieve");
		SubmissionForm form=sub.findById(cid).orElse(null);
		mv.addObject(form);
		return mv;
	}

}



<html>
    <head>
        <title> retrieve details</title>
    </head>
    <body>
        <h4> the details are</h4>
        <h4>${SubmissionForm}</h4>
    </body>
</html>

<html>
    <head>
        <title> welcome to Submission Form</title>
    </head>
    <body>
        <form  action="details" method="post">
            Enter customer id: <input type="text" name="cid"/><br>
            Enter customer name: <input type="text" name="cname"/><br>
            Enter customer email: <input type="email" name="cemail"/>
            <input type="submit" value="submit"/>
        </form>
    </body>
</html>

<html>
    <head>
        <title> welcome to Details Page</title>
    </head>
    <body>
        <h3>the details are mentioned below</h3>
        <form action="/postdetails" method="post">
        Enetr customer id:<input type="number" name="cid"/>
        <input type="submit" value="submit"/>
    </body>
</html>

package com.example.demo;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.builder.SpringApplicationBuilder;
import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;
import org.springframework.context.annotation.ComponentScan;
@ComponentScan
@SpringBootApplication
public class CustomerSubmissionFormApplication extends SpringBootServletInitializer {
	
	@Override
	protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {
		return application.sources(CustomerSubmissionFormApplication.class);
	}

	public static void main(String[] args) {
		SpringApplication.run(CustomerSubmissionFormApplication.class, args);
	}

}
